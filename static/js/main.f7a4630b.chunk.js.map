{"version":3,"sources":["components/Highchart.js","components/Weather.js","App.js","index.js"],"names":["days","Highchart","props","day","Date","getDay","fullDate","toLocaleString","counter","hoursWithDays","Object","toConsumableArray","data","hoursHighchart","map","item","substring","HighchartOptions","title","text","concat","city","style","fontSize","fontWeight","subtitle","xAxis","categories","yAxis","series","name","tempHighchart","chart","fontFamily","color","react_default","a","createElement","className","highcharts_react_min_default","highcharts","Highcharts","options","Weather","country","icon","temp","wind","humidity","pressure","sunrise","sunset","APIkey","App","state","value","opacity","dataHighchart","dataWeather","dataHighchartIsLoad","dataWeatherIsLoad","handleCahngeInput","e","_this","setState","target","_this2","this","highchartAPI","weatherAPI","fetch","then","resp","ok","json","Error","main","speed","sys","toLocaleTimeString","weather","id","catch","err","console","log","list","date","index","dt_txt","slice","prevProps","prevState","_this3","length","Fragment","type","placeholder","onChange","components_Weather","components_Highchart","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"qVAIMA,SAAO,CACX,SACA,SACA,UACA,YACA,WACA,SACA,aAyEaC,EAvEG,SAAAC,GAChB,IAAMC,GAAM,IAAIC,MAAOC,SACjBC,GAAW,IAAIF,MAAOG,iBACxBC,EAAUL,EAERM,EAAgBC,OAAAC,EAAA,EAAAD,CAAIR,EAAMU,KAAKC,eAAe,IAAIC,IAAI,SAAAC,GAmB1D,MAlBa,UAATA,IACEP,EAAU,GACZO,EAAOf,EAAKQ,EAAU,GAAGQ,UAAU,EAAG,GAAK,IAAMD,EACjDP,GAAW,GACU,IAAZA,GACTO,EAAOf,EAAK,GAAGgB,UAAU,EAAG,GAAK,IAAMD,EACvCP,GAAW,GACU,IAAZA,GACTO,EAAOf,EAAK,GAAGgB,UAAU,EAAG,GAAK,IAAMD,EACvCP,GAAW,GACU,IAAZA,GACTO,EAAOf,EAAK,GAAGgB,UAAU,EAAG,GAAK,IAAMD,EACvCP,GAAW,GACU,IAAZA,IACTO,EAAOf,EAAK,GAAGgB,UAAU,EAAG,GAAK,IAAMD,EACvCP,EAAU,IAGPO,IAEHE,EAAmB,CACvBC,MAAO,CACLC,KAAI,iCAAAC,OAAmClB,EAAMmB,MAC7CC,MAAO,CACLC,SAAU,GACVC,WAAY,SAIhBC,SAAU,CACRN,KAAI,0BAAAC,OAA4Bd,GAChCgB,MAAO,CACLC,SAAU,KAGdG,MAAO,CACLC,WAAYlB,GAEdmB,MAAO,CACLV,MAAO,CACLC,KAAM,wBAGVU,OAAQ,CACN,CACEC,KAAM,cACNlB,KAAMV,EAAMU,KAAKmB,cAAc,KAGnCC,MAAO,CACLV,MAAO,CACLW,WAAY,QACZV,SAAU,GACVW,MAAO,WAKb,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACE,EAAAH,EAAD,CAAiBI,WAAYC,IAAYC,QAASzB,MC5CzC0B,SAjCC,SAAAzC,GACd,OACEiC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,uBAEEF,EAAAC,EAAAC,cAAA,gBAAQnC,EAAMmB,MAFhB,IAE8BnB,EAAMU,KAAKgC,SAEzCT,EAAAC,EAAAC,cAAA,UAAI,IAAIjC,MAAOG,kBACf4B,EAAAC,EAAAC,cAAA,KAAGC,UAAS,aAAAlB,OAAelB,EAAMU,KAAKiC,KAA1B,WACZV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,4BADf,IAC6CpC,EAAMU,KAAKkC,KADxD,WAGAX,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBADf,IACiCpC,EAAMU,KAAKmC,KAD5C,QAGAZ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBADf,IACiCpC,EAAMU,KAAKoC,SAD5C,MAGAb,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBADf,IACuCpC,EAAMU,KAAKqC,SADlD,QAGAd,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,eADf,IACgCpC,EAAMU,KAAKsC,SAE3Cf,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBADf,IACiCpC,EAAMU,KAAKuC,YCxB9CC,EAAS,mCAiLAC,6MA9KbC,MAAQ,CACNC,MAAO,GACPlC,KAAM,GACNmC,QAAS,EACTC,cAAe,CACb5C,eAAgB,GAChBkB,cAAe,IAEjB2B,YAAa,CACXZ,KAAM,GACNC,KAAM,GACNC,SAAU,GACVC,SAAU,GACVC,QAAS,GACTC,OAAQ,GACRN,KAAM,GACND,QAAS,IAGXe,qBAAqB,EACrBC,mBAAmB,KAGrBC,kBAAoB,SAAAC,GAAC,OAAIC,EAAKC,SAAS,CAAET,MAAOO,EAAEG,OAAOV,4FACrC,IAAAW,EAAAC,KACZC,EAAY,mEAAAhD,OAAsEgC,EAAtE,iBACZiB,EAAU,kEAAAjD,OAAqEgC,EAArE,iBAGhBkB,MAAMD,GACHE,KAAK,SAAAC,GACJ,GAAIA,EAAKC,GACP,OAAOD,EAAKE,OAEd,MAAMC,MAAM,yBAEbJ,KAAK,SAAA3D,GACJsD,EAAKF,SAAS,CACZN,YAAa,CACXZ,KAAMlC,EAAKgE,KAAK9B,KAChBC,KAAMnC,EAAKmC,KAAK8B,MAChB7B,SAAUpC,EAAKgE,KAAK5B,SACpBC,SAAUrC,EAAKgE,KAAK3B,SACpBC,QAAS,IAAI9C,KAAwB,IAAnBQ,EAAKkE,IAAI5B,SAAgB6B,qBAC3C5B,OAAQ,IAAI/C,KAAuB,IAAlBQ,EAAKkE,IAAI3B,QAAe4B,qBACzClC,KAAMjC,EAAKoE,QAAQ,GAAGC,GACtBrC,QAAShC,EAAKkE,IAAIlC,SAEpBvB,KAAMT,EAAKkB,KACX8B,mBAAmB,MAGtBsB,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KAE5Bb,MAAMF,GACHG,KAAK,SAAAC,GACJ,GAAIA,EAAKC,GACP,OAAOD,EAAKE,OAEd,MAAMC,MAAM,sBAEbJ,KAAK,SAAA3D,GAAI,OACRsD,EAAKF,SAAS,CACZP,cAAe,CACb5C,eAAgB,CACdD,EAAK0E,KAAKxE,IAAI,SAACyE,EAAMC,GAAP,OAAiBD,EAAKE,OAAOC,MAAM,GAAI,OAEvD3D,cAAe,CAACnB,EAAK0E,KAAKxE,IAAI,SAAAC,GAAI,OAAIA,EAAK6D,KAAK9B,SAElDa,qBAAqB,MAGxBuB,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,gDAGXQ,EAAWC,GAAW,IAAAC,EAAA1B,KACvC,GAAgC,IAA5BA,KAAKb,MAAMC,MAAMuC,QAGnBF,EAAUrC,QAAUY,KAAKb,MAAMC,MAC/B,CACAY,KAAKH,SAAS,CACZN,YAAa,CACXZ,KAAM,KACNC,KAAM,KACNC,SAAU,KACVC,SAAU,KACVC,QAAS,KACTC,OAAQ,KACRN,KAAM,KACND,QAAS,IAEXvB,KAAM,OAER,IAAM+C,EAAY,sDAAAhD,OAChB+C,KAAKb,MAAMC,MADK,WAAAnC,OAERgC,EAFQ,iBAGZiB,EAAU,qDAAAjD,OACd+C,KAAKb,MAAMC,MADG,WAAAnC,OAENgC,EAFM,iBAGhBkB,MAAMD,GACHE,KAAK,SAAAC,GACJ,GAAIA,EAAKC,GACP,OAAOD,EAAKE,OAEd,MAAMC,MAAM,sBAEbJ,KAAK,SAAA3D,GAAI,OACRiF,EAAK7B,SAAS,CACZN,YAAa,CACXZ,KAAMlC,EAAKgE,KAAK9B,KAChBC,KAAMnC,EAAKmC,KAAK8B,MAChB7B,SAAUpC,EAAKgE,KAAK5B,SACpBC,SAAUrC,EAAKgE,KAAK3B,SACpBC,QAAS,IAAI9C,KAAwB,IAAnBQ,EAAKkE,IAAI5B,SAAgB6B,qBAC3C5B,OAAQ,IAAI/C,KAAuB,IAAlBQ,EAAKkE,IAAI3B,QAAe4B,qBACzClC,KAAMjC,EAAKoE,QAAQ,GAAGC,GACtBrC,QAAShC,EAAKkE,IAAIlC,SAEpBvB,KAAMT,EAAKkB,KACX8B,mBAAmB,MAGtBsB,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KAE5Bb,MAAMF,GACHG,KAAK,SAAAC,GACJ,GAAIA,EAAKC,GACP,OAAOD,EAAKE,OAEd,MAAMC,MAAM,sBAEbJ,KAAK,SAAA3D,GAAI,OACRiF,EAAK7B,SAAS,CACZP,cAAe,CACb5C,eAAgB,CACdD,EAAK0E,KAAKxE,IAAI,SAACyE,EAAMC,GAAP,OAAiBD,EAAKE,OAAOC,MAAM,GAAI,OAEvD3D,cAAe,CAACnB,EAAK0E,KAAKxE,IAAI,SAAAC,GAAI,OAAIA,EAAK6D,KAAK9B,SAElDa,qBAAqB,MAGxBuB,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,uCAI9B,OACEhD,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2D,SAAA,KACE5D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,SACE2D,KAAK,OACLC,YAAY,kBACZ1C,MAAOY,KAAKb,MAAMC,MAClB2C,SAAU/B,KAAKN,oBAEjB1B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mBAEd6B,KAAKb,MAAMM,kBACVzB,EAAAC,EAAAC,cAAC8D,EAAD,CAASvF,KAAMuD,KAAKb,MAAMI,YAAarC,KAAM8C,KAAKb,MAAMjC,OACtD,KACH8C,KAAKb,MAAMK,oBACVxB,EAAAC,EAAAC,cAAC+D,EAAD,CAAWxF,KAAMuD,KAAKb,MAAMG,cAAepC,KAAM8C,KAAKb,MAAMjC,OAC1D,KACJc,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,+DAvKMgE,aCDlBC,IAASC,OAAOpE,EAAAC,EAAAC,cAACmE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.f7a4630b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Highcharts from \"highcharts/highstock\";\r\nimport HighchartsReact from \"highcharts-react-official\";\r\nimport \"../styles/Highchart.css\";\r\nconst days = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\"\r\n];\r\nconst Highchart = props => {\r\n  const day = new Date().getDay();\r\n  const fullDate = new Date().toLocaleString();\r\n  let counter = day;\r\n\r\n  const hoursWithDays = [...props.data.hoursHighchart[0]].map(item => {\r\n    if (item === \"00:00\") {\r\n      if (counter < 3) {\r\n        item = days[counter + 1].substring(0, 3) + \" \" + item;\r\n        counter += 1;\r\n      } else if (counter === 3) {\r\n        item = days[4].substring(0, 3) + \" \" + item;\r\n        counter += 1;\r\n      } else if (counter === 4) {\r\n        item = days[5].substring(0, 3) + \" \" + item;\r\n        counter += 1;\r\n      } else if (counter === 5) {\r\n        item = days[6].substring(0, 3) + \" \" + item;\r\n        counter += 1;\r\n      } else if (counter === 6) {\r\n        item = days[0].substring(0, 3) + \" \" + item;\r\n        counter = 0;\r\n      }\r\n    }\r\n    return item;\r\n  });\r\n  const HighchartOptions = {\r\n    title: {\r\n      text: `Five-day weather forecast for ${props.city}`,\r\n      style: {\r\n        fontSize: 28,\r\n        fontWeight: \"bold\"\r\n      }\r\n    },\r\n\r\n    subtitle: {\r\n      text: `every three hours from ${fullDate}`,\r\n      style: {\r\n        fontSize: 22\r\n      }\r\n    },\r\n    xAxis: {\r\n      categories: hoursWithDays\r\n    },\r\n    yAxis: {\r\n      title: {\r\n        text: \"Temperature (Â°C)\"\r\n      }\r\n    },\r\n    series: [\r\n      {\r\n        name: \"temperature\",\r\n        data: props.data.tempHighchart[0]\r\n      }\r\n    ],\r\n    chart: {\r\n      style: {\r\n        fontFamily: \"Dosis\",\r\n        fontSize: 18,\r\n        color: \"black\"\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"highchart\">\r\n      <HighchartsReact highcharts={Highcharts} options={HighchartOptions} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Highchart;\r\n","import React from \"react\";\r\nimport \"../styles/Weather.css\";\r\nconst Weather = props => {\r\n  return (\r\n    <div className=\"weather\">\r\n      <h1>\r\n        Weather in\r\n        <span> {props.city}</span> {props.data.country}\r\n      </h1>\r\n      <p>{new Date().toLocaleString()}</p>\r\n      <i className={`wi wi-owm-${props.data.icon} icon`} />\r\n      <div className=\"values\">\r\n        <h2>\r\n          <i className=\"fas fa-thermometer-half\" /> {props.data.temp} &#8451;\r\n        </h2>\r\n        <h2>\r\n          <i className=\"fas fa-wind\" /> {props.data.wind} m/s\r\n        </h2>\r\n        <h2>\r\n          <i className=\"fas fa-tint\" /> {props.data.humidity} %\r\n        </h2>\r\n        <h2>\r\n          <i className=\"fab fa-cloudscale\" /> {props.data.pressure} hPa\r\n        </h2>\r\n        <h2>\r\n          <i className=\"fas fa-sun\" /> {props.data.sunrise}\r\n        </h2>\r\n        <h2>\r\n          <i className=\"fas fa-moon\" /> {props.data.sunset}\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Weather;\r\n","import React, { Component } from \"react\";\nimport \"./styles/App.css\";\nimport Highchart from \"./components/Highchart\";\nimport Weather from \"./components/Weather\";\nconst APIkey = \"1697193f8750f5ec8d1046c2118876cf\";\n\nclass App extends Component {\n  state = {\n    value: \"\",\n    city: \"\",\n    opacity: 0,\n    dataHighchart: {\n      hoursHighchart: [],\n      tempHighchart: []\n    },\n    dataWeather: {\n      temp: \"\",\n      wind: \"\",\n      humidity: \"\",\n      pressure: \"\",\n      sunrise: \"\",\n      sunset: \"\",\n      icon: \"\",\n      country: \"\"\n    },\n\n    dataHighchartIsLoad: false,\n    dataWeatherIsLoad: false\n  };\n\n  handleCahngeInput = e => this.setState({ value: e.target.value });\n  componentDidMount() {\n    const highchartAPI = `https://api.openweathermap.org/data/2.5/forecast?q=warsaw&appid=${APIkey}&units=metric`;\n    const weatherAPI = `https://api.openweathermap.org/data/2.5/weather?q=warsaw&appid=${APIkey}&units=metric`;\n\n    //pogoda--------------------------------------\n    fetch(weatherAPI)\n      .then(resp => {\n        if (resp.ok) {\n          return resp.json();\n        }\n        throw Error(\"Brak miasta w bazie\");\n      })\n      .then(data => {\n        this.setState({\n          dataWeather: {\n            temp: data.main.temp,\n            wind: data.wind.speed,\n            humidity: data.main.humidity,\n            pressure: data.main.pressure,\n            sunrise: new Date(data.sys.sunrise * 1000).toLocaleTimeString(),\n            sunset: new Date(data.sys.sunset * 1000).toLocaleTimeString(),\n            icon: data.weather[0].id,\n            country: data.sys.country\n          },\n          city: data.name,\n          dataWeatherIsLoad: true\n        });\n      })\n      .catch(err => console.log(err));\n    //wykres-----------------------\n    fetch(highchartAPI)\n      .then(resp => {\n        if (resp.ok) {\n          return resp.json();\n        }\n        throw Error(\"cannot read data\");\n      })\n      .then(data =>\n        this.setState({\n          dataHighchart: {\n            hoursHighchart: [\n              data.list.map((date, index) => date.dt_txt.slice(11, 16))\n            ],\n            tempHighchart: [data.list.map(item => item.main.temp)]\n          },\n          dataHighchartIsLoad: true\n        })\n      )\n      .catch(err => console.log(err));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.value.length === 0) return;\n\n    if (\n      prevState.value !== this.state.value /* && this.state.value.length > 2*/\n    ) {\n      this.setState({\n        dataWeather: {\n          temp: \"--\",\n          wind: \"--\",\n          humidity: \"--\",\n          pressure: \"--\",\n          sunrise: \"--\",\n          sunset: \"--\",\n          icon: \"--\",\n          country: \"\"\n        },\n        city: \"--\"\n      });\n      const highchartAPI = `https://api.openweathermap.org/data/2.5/forecast?q=${\n        this.state.value\n      }&appid=${APIkey}&units=metric`;\n      const weatherAPI = `https://api.openweathermap.org/data/2.5/weather?q=${\n        this.state.value\n      }&appid=${APIkey}&units=metric`;\n      fetch(weatherAPI)\n        .then(resp => {\n          if (resp.ok) {\n            return resp.json();\n          }\n          throw Error(\"cannot read data\");\n        })\n        .then(data =>\n          this.setState({\n            dataWeather: {\n              temp: data.main.temp,\n              wind: data.wind.speed,\n              humidity: data.main.humidity,\n              pressure: data.main.pressure,\n              sunrise: new Date(data.sys.sunrise * 1000).toLocaleTimeString(),\n              sunset: new Date(data.sys.sunset * 1000).toLocaleTimeString(),\n              icon: data.weather[0].id,\n              country: data.sys.country\n            },\n            city: data.name,\n            dataWeatherIsLoad: true\n          })\n        )\n        .catch(err => console.log(err));\n      //highchart\n      fetch(highchartAPI)\n        .then(resp => {\n          if (resp.ok) {\n            return resp.json();\n          }\n          throw Error(\"cannot read data\");\n        })\n        .then(data =>\n          this.setState({\n            dataHighchart: {\n              hoursHighchart: [\n                data.list.map((date, index) => date.dt_txt.slice(11, 16))\n              ],\n              tempHighchart: [data.list.map(item => item.main.temp)]\n            },\n            dataHighchartIsLoad: true\n          })\n        )\n        .catch(err => console.log(err));\n    }\n  }\n  render() {\n    return (\n      <>\n        <div className=\"App\">\n          <div className=\"input\">\n            <input\n              type=\"text\"\n              placeholder=\"find your city!\"\n              value={this.state.value}\n              onChange={this.handleCahngeInput}\n            />\n            <i className=\"fas fa-search\" />\n          </div>\n          {this.state.dataWeatherIsLoad ? (\n            <Weather data={this.state.dataWeather} city={this.state.city} />\n          ) : null}\n          {this.state.dataHighchartIsLoad ? (\n            <Highchart data={this.state.dataHighchart} city={this.state.city} />\n          ) : null}\n          <footer>\n            <p>highchart generate by www.highcharts.com</p>\n          </footer>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}